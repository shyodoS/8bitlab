{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    {% include 'partials/_base_head.html' %} {% block title %}
    <title>Portfólio - 8Bit Lab | Projetos e Cases</title>
    {% endblock %}
    <meta
      name="description"
      content="Conheça nossos projetos de design, desenvolvimento web e soluções digitais inovadoras."
    />
    <link rel="stylesheet" href="{% static 'css/portfolio-page.css' %}" />
  </head>
  <body>
    <!-- Custom Cursor -->
    <div class="custom-cursor"></div>
    <div class="cursor-trail"></div>

    <!-- Noise Overlay -->
    <div class="noise-overlay"></div>

    <!-- Navigation -->
    {% include 'partials/_header.html' %}

    <div class="main-wrapper">
      <!-- Portfolio Hero -->
      <section class="portfolio-hero">
        <div class="container">
          <div class="hero-content">
            <div class="hero-badge">PORTFÓLIO</div>
            <h1 class="hero-title">
              NOSSOS <span class="highlight">PROJETOS</span>
            </h1>
            <p class="hero-description">
              Explore nossa coleção de projetos que combinam design inovador,
              desenvolvimento técnico e soluções criativas para desafios reais.
            </p>
          </div>
        </div>
      </section>

      <!-- Filter Tabs -->
      <section class="portfolio-filters">
        <div class="container">
          <div class="filter-tabs">
            <button class="filter-tab active" data-filter="all">TODOS</button>
            {% for category in categories %}
            <button class="filter-tab" data-filter="{{ category.slug }}">
              {{ category.name|upper }}
            </button>
            {% endfor %}
          </div>
        </div>
      </section>

      <!-- Portfolio Grid -->
      <section class="portfolio-showcase">
        <div class="container">
          <div class="portfolio-grid">
            {% for project in projects %}
            <div
              class="portfolio-card"
              data-category="{{ project.category.slug }}"
            >
              <div class="card-image">
                {% if project.main_image %}
                <img
                  src="{{ project.main_image.image.url }}"
                  alt="{{ project.title }}"
                  loading="lazy"
                />
                {% else %}
                <img
                  src="{% static 'img/logo.png' %}"
                  alt="{{ project.title }}"
                  loading="lazy"
                />
                {% endif %}
                <div class="card-overlay">
                  <div class="overlay-content">
                    <div class="project-number">
                      {{ forloop.counter|stringformat:"02d" }}
                    </div>
                    <h3 class="project-title">{{ project.title|upper }}</h3>
                    <p class="project-category">
                      {{ project.category.name|upper }}
                    </p>
                    <p class="project-description">
                      {{
                      project.short_description|default:project.description|truncatewords:20
                      }}
                    </p>
                    <div class="project-tags">
                      {% if project.tags %} {% for tag in project.tags %}
                      <span class="tag">{{ tag|upper }}</span>
                      {% endfor %} {% endif %}
                    </div>
                    <a href="#" class="project-link">VER DETALHES →</a>
                  </div>
                </div>
              </div>
            </div>
            {% empty %}
            <div class="no-projects">
              <h3>Nenhum projeto encontrado</h3>
              <p>Os projetos aparecerão aqui quando forem adicionados.</p>
              <a href="{% url 'admin_panel' %}" class="btn-admin"
                >ADICIONAR PROJETO</a
              >
            </div>
            {% endfor %}
          </div>
        </div>
      </section>

      <!-- Stats Section -->
      <section class="portfolio-stats">
        <div class="container">
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-number" data-target="{{ projects|length }}">
                0
              </div>
              <div class="stat-label">PROJETOS</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-target="{{ categories|length }}">
                0
              </div>
              <div class="stat-label">CATEGORIAS</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-target="100">0</div>
              <div class="stat-label">CLIENTES</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-target="50">0</div>
              <div class="stat-label">CASES</div>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="portfolio-cta">
        <div class="container">
          <div class="cta-content">
            <h2>PRONTO PARA SEU PRÓXIMO PROJETO?</h2>
            <p>
              Vamos criar algo incrível juntos. Entre em contato e vamos
              conversar sobre suas ideias.
            </p>
            <a href="{% url 'home' %}#contato" class="btn-primary"
              >INICIAR PROJETO</a
            >
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    {% include 'partials/_footer.html' %}

    <!-- Scripts -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'js/portfolio-page.js' %}"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      lucide.createIcons();
    </script>
  </body>
</html>
